{
  "nodes": [
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Create a new folder directly in the database. Requires: folder_name (string). Optional: parent_id (number).",
        "operation": "executeQuery",
        "query": "INSERT INTO public.files (user_id, file_name, file_path, is_folder, parent_id, file_type, mime_type, created_at, updated_at) VALUES ($1, $2, $2, TRUE, $3, 'folder', 'folder', NOW(), NOW()) RETURNING id",
        "options": {
          "queryReplacement": "={{ [\n  $json.userId,\n  $fromAI('folder_name'),\n  $fromAI('parent_id') ?? null\n] }}"
        },
        "toolParameters": [
          {
            "name": "folder_name",
            "type": "string",
            "required": true,
            "description": "Name of the folder to create"
          },
          {
            "name": "parent_id",
            "type": "number",
            "required": false,
            "description": "ID of parent folder. Use null to create in root."
          }
        ]
      },
      "type": "n8n-nodes-base.postgresTool",
      "typeVersion": 2.5,
      "position": [-320, 400],
      "id": "f3feb8d0-fdaf-48b1-bf10-6cc9be41fbba",
      "name": "Execute: Create Folder",
      "credentials": {
        "postgres": {
          "id": "a3afbeaFrTSHRGp4",
          "name": "Postgres account"
        }
      }
    }
  ],
  "connections": {
    "Execute: Create Folder": {
      "ai_tool": [[]]
    }
  },
  "pinData": {},
  "meta": {
    "instanceId": "2aef109bd8c10b91cb8e2bd8a77672a184b1b8c2f2b84edaba555f80c8071c7e"
  }
}
