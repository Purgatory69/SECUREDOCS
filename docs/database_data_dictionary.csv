Field Name,Constraints,Data Type,Allow Nulls,Description
===== CORE TABLES =====,PRIMARY KEY: (id),,,"Core application tables for user management and file storage"
==== TABLE: users ====,PRIMARY KEY: (id),,,"User account information"
id,PRIMARY KEY,nextval('users_id_seq'::regclass),No,"Auto-incrementing primary key"
name,,character varying(255),No,"Full name of the user"
email,,character varying(255),No,"Email address (unique)"
email_verified_at,,timestamp without time zone,Yes,"Timestamp when email was verified"
password,,character varying(255),No,"Hashed password"
remember_token,,character varying(100),Yes,"Remember token for authentication"
created_at,,timestamp without time zone,Yes,"Timestamp when user was created"
updated_at,,timestamp without time zone,Yes,"Timestamp when user was updated"
two_factor_secret,,text,Yes,"Two-factor authentication secret"
two_factor_recovery_codes,,text,Yes,"Two-factor recovery codes"
two_factor_confirmed_at,,timestamp without time zone,Yes,"Timestamp when 2FA was confirmed"
is_approved,,boolean,Yes,"Whether user account is approved (default: false)"
role,,character varying(255),No,"User role (default: 'user')"
is_premium,,boolean,No,"Whether user has premium features (default: false)"
current_team_id,,bigint,Yes,"Current team ID if user is in a team"
profile_photo_path,,character varying(255),Yes,"Path to profile photo"
==== TABLE: files ====,PRIMARY KEY: (id),,,"File and folder storage with blockchain support"
id,PRIMARY KEY,nextval('files_id_seq'::regclass),No,"Auto-incrementing primary key"
user_id,FOREIGN KEY (references users.id),BIGINT,No,"Foreign key to the user who owns the file"
file_name,,character varying,No,"Name of the file or folder"
file_path,,character varying,No,"Path to the file or folder"
file_size,,character varying,Yes,"Size of the file in human-readable format"
file_type,,character varying,Yes,"Type/category of the file"
mime_type,,character varying,Yes,"MIME type of the file"
created_at,,timestamp without time zone,Yes,"Timestamp when file was created"
updated_at,,timestamp without time zone,Yes,"Timestamp when file was last updated"
parent_id,FOREIGN KEY (references files.id),BIGINT,Yes,"Foreign key to parent folder (self-referential)"
is_folder,,boolean,No,"Whether this is a folder (default: false)"
deleted_at,,timestamp with time zone,Yes,"Soft delete timestamp"
blockchain_provider,,character varying,Yes,"Blockchain provider used for storage"
ipfs_hash,,character varying,Yes,"IPFS hash if stored on blockchain"
blockchain_url,,text,Yes,"URL to access file on blockchain"
is_blockchain_stored,,boolean,No,"Whether file is stored on blockchain (default: false)"
blockchain_metadata,,json,Yes,"Additional blockchain storage metadata"
is_vectorized,,boolean,No,"Whether file content has been vectorized (default: false)"
vectorized_at,,timestamp with time zone,Yes,"Timestamp when file was vectorized"
==== TABLE: documents ====,PRIMARY KEY: (id),,,"Document content with vector embeddings"
id,PRIMARY KEY,nextval('documents_id_seq'::regclass),No,"Auto-incrementing primary key"
content,,text,Yes,"Full text content of the document"
metadata,,jsonb,Yes,"Additional metadata for the document"
embedding,,USER-DEFINED (vector),Yes,"Vector embedding for AI search"
user_id,,bigint,Yes,"User who owns this document"
file_id,FOREIGN KEY (references files.id),BIGINT,Yes,"Foreign key to the source file"
==== TABLE: document_metadata ====,PRIMARY KEY: (id),,,"Metadata for document vectorization datasets"
id,PRIMARY KEY,text,No,"Unique identifier for the document dataset"
title,,text,Yes,"Title of the document dataset"
url,,text,Yes,"URL or path to the document source"
created_at,,timestamp without time zone,Yes,"Timestamp when metadata was created (default: now())"
schema,,text,Yes,"Schema definition for the document structure"
user_id,,bigint,Yes,"User who owns this document metadata"
file_id,FOREIGN KEY (references files.id),BIGINT,Yes,"Foreign key to the source file"
==== TABLE: document_rows ====,PRIMARY KEY: (id),,,"Individual rows from document datasets"
id,PRIMARY KEY,nextval('document_rows_id_seq'::regclass),No,"Auto-incrementing primary key"
dataset_id,FOREIGN KEY (references document_metadata.id),text,Yes,"Foreign key to the parent dataset"
row_data,,jsonb,Yes,"JSON data for this row"
file_id,FOREIGN KEY (references files.id),BIGINT,Yes,"Foreign key to the source file"
===== BLOCKCHAIN TABLES =====,PRIMARY KEY: (id),,,"Blockchain integration and storage management"
==== TABLE: blockchain_configs ====,PRIMARY KEY: (id),,,"User blockchain provider configurations"
id,PRIMARY KEY,nextval('blockchain_configs_id_seq'::regclass),No,"Auto-incrementing primary key"
user_id,FOREIGN KEY (references users.id),BIGINT,No,"Foreign key to the user who owns this configuration"
provider,,character varying(50),No,"Blockchain provider name (e.g., 'pinata', 'filecoin')"
api_key_encrypted,,text,No,"Encrypted API key for the blockchain provider"
settings,,json,Yes,"Additional provider-specific settings in JSON format"
is_active,,boolean,No,"Whether this configuration is currently active (default: true)"
created_at,,timestamp without time zone,Yes,"Timestamp when the configuration was created"
updated_at,,timestamp without time zone,Yes,"Timestamp when the configuration was last updated"
==== TABLE: blockchain_uploads ====,PRIMARY KEY: (id),,,"Blockchain file upload tracking"
id,PRIMARY KEY,nextval('blockchain_uploads_id_seq'::regclass),No,"Auto-incrementing primary key"
file_id,FOREIGN KEY (references files.id),BIGINT,No,"Foreign key to the file being uploaded to blockchain"
provider,,character varying(50),No,"Blockchain provider used for upload"
ipfs_hash,,character varying(100),Yes,"IPFS hash of the uploaded file"
upload_status,CHECK (IN ('pending','success','failed')),character varying(255),No,"Status of the upload (default: 'pending')"
error_message,,text,Yes,"Error message if upload failed"
upload_cost,,numeric,Yes,"Cost of the blockchain upload"
provider_response,,json,Yes,"Response from the blockchain provider"
created_at,,timestamp without time zone,Yes,"Timestamp when the upload was initiated"
updated_at,,timestamp without time zone,Yes,"Timestamp when the upload status was last updated"
===== ACTIVITY TRACKING TABLES =====,PRIMARY KEY: (id),,,"Comprehensive activity logging and analytics"
==== TABLE: system_activities ====,PRIMARY KEY: (id),,,"Comprehensive system activity tracking"
id,PRIMARY KEY,nextval('system_activities_id_seq'::regclass),No,"Auto-incrementing primary key"
user_id,FOREIGN KEY (references users.id),BIGINT,Yes,"Foreign key to the user performing action"
target_user_id,FOREIGN KEY (references users.id),BIGINT,Yes,"Foreign key to target user (if applicable)"
file_id,FOREIGN KEY (references files.id),BIGINT,Yes,"Foreign key to affected file (if applicable)"
activity_type,,character varying(255),No,"Type of activity (e.g., 'file_upload', 'user_login')"
action,,character varying(255),No,"Specific action performed"
entity_type,,character varying(255),Yes,"Type of entity affected"
entity_id,,bigint,Yes,"ID of entity affected"
description,,text,No,"Human-readable description of activity"
metadata,,jsonb,Yes,"Additional activity metadata"
ip_address,,inet,Yes,"IP address of the actor"
user_agent,,text,Yes,"User agent of the actor"
session_id,,character varying(255),Yes,"Session identifier"
location_country,,character varying(255),Yes,"Country of the actor"
location_city,,character varying(255),Yes,"City of the actor"
device_type,,character varying(255),Yes,"Type of device used"
browser,,character varying(255),Yes,"Browser used"
risk_level,CHECK (IN ('low','medium','high','critical')),character varying(255),Yes,"Risk level assessment (default: 'low')"
requires_audit,,boolean,Yes,"Whether activity requires audit (default: false)"
is_suspicious,,boolean,Yes,"Whether activity is flagged as suspicious (default: false)"
created_at,,timestamp without time zone,Yes,"Timestamp when activity occurred (default: now())"
==== TABLE: file_access_logs ====,PRIMARY KEY: (id),,,"Detailed file access logging"
id,PRIMARY KEY,nextval('file_access_logs_id_seq'::regclass),No,"Auto-incrementing primary key"
file_id,FOREIGN KEY (references files.id),BIGINT,No,"Foreign key to the accessed file"
user_id,FOREIGN KEY (references users.id),BIGINT,No,"Foreign key to the user who accessed the file"
session_id,FOREIGN KEY (references user_sessions.session_id),character varying(255),Yes,"Foreign key to the user session"
access_type,,character varying(255),No,"Type of access (e.g., 'view', 'download', 'edit')"
access_method,,character varying(255),Yes,"Method used for access (e.g., 'web', 'api')"
file_size_at_access,,bigint,Yes,"File size at the time of access"
file_version_at_access,,character varying(255),Yes,"File version identifier at access time"
ip_address,,inet,Yes,"IP address of the accessing client"
user_agent,,text,Yes,"User agent string of the accessing client"
referrer,,text,Yes,"Referrer URL"
response_time_ms,,integer,Yes,"Response time in milliseconds"
bytes_transferred,,bigint,Yes,"Number of bytes transferred"
started_at,,timestamp without time zone,Yes,"Timestamp when access started (default: now())"
completed_at,,timestamp without time zone,Yes,"Timestamp when access completed"
duration_seconds,,integer,Yes,"Calculated duration of access in seconds"
==== TABLE: daily_activity_stats ====,PRIMARY KEY: (id),,,"Daily aggregated user activity statistics"
id,PRIMARY KEY,nextval('daily_activity_stats_id_seq'::regclass),No,"Auto-incrementing primary key"
user_id,FOREIGN KEY (references users.id),BIGINT,Yes,"Foreign key to the user (null for system-wide stats)"
date,,date,No,"Date for which statistics are aggregated"
files_created,,integer,Yes,"Number of files created on this date (default: 0)"
files_updated,,integer,Yes,"Number of files updated on this date (default: 0)"
files_deleted,,integer,Yes,"Number of files deleted on this date (default: 0)"
files_accessed,,integer,Yes,"Number of files accessed on this date (default: 0)"
login_count,,integer,Yes,"Number of logins on this date (default: 0)"
storage_used_bytes,,bigint,Yes,"Total storage used in bytes (default: 0)"
bandwidth_used_bytes,,bigint,Yes,"Total bandwidth used in bytes (default: 0)"
session_count,,integer,Yes,"Number of sessions on this date (default: 0)"
active_time_minutes,,integer,Yes,"Total active time in minutes (default: 0)"
unique_files_accessed,,integer,Yes,"Number of unique files accessed (default: 0)"
created_at,,timestamp without time zone,Yes,"Timestamp when record was created (default: now())"
updated_at,,timestamp without time zone,Yes,"Timestamp when record was last updated (default: now())"
===== SEARCH & UI TABLES =====,PRIMARY KEY: (id),,,"Search functionality and user interface features"
==== TABLE: saved_searches ====,PRIMARY KEY: (id),,,"Persistent user search queries"
id,PRIMARY KEY,nextval('saved_searches_id_seq'::regclass),No,"Auto-incrementing primary key"
user_id,FOREIGN KEY (references users.id),BIGINT,No,"Foreign key to the user who saved the search"
name,,character varying(255),No,"Name of the saved search"
query,,text,No,"Search query string"
filters,,jsonb,Yes,"Applied filters in JSON format"
sort_by,,character varying(255),Yes,"Sort field (default: 'created_at')"
sort_order,,character varying(10),Yes,"Sort order (default: 'desc')"
is_default,,boolean,No,"Whether this is the user's default search (default: false)"
is_shared,,boolean,No,"Whether search is shared with others (default: false)"
created_at,,timestamp without time zone,Yes,"Timestamp when search was saved (default: now())"
updated_at,,timestamp without time zone,Yes,"Timestamp when search was updated (default: now())"
==== TABLE: search_logs ====,PRIMARY KEY: (id),,,"Search activity logging"
id,PRIMARY KEY,nextval('search_logs_id_seq'::regclass),No,"Auto-incrementing primary key"
user_id,FOREIGN KEY (references users.id),BIGINT,Yes,"Foreign key to the user who performed search"
session_id,,character varying(255),Yes,"Session identifier"
query,,text,No,"Search query performed"
filters_used,,jsonb,Yes,"Filters applied during search"
result_count,,integer,Yes,"Number of results returned"
search_time_ms,,integer,Yes,"Search execution time in milliseconds"
ip_address,,inet,Yes,"IP address of the searcher"
user_agent,,text,Yes,"User agent of the searcher"
referrer,,text,Yes,"Referrer URL"
created_at,,timestamp without time zone,Yes,"Timestamp when search was performed (default: now())"
==== TABLE: notifications ====,PRIMARY KEY: (id),,,"User notification system"
id,PRIMARY KEY,nextval('notifications_id_seq'::regclass),No,"Auto-incrementing primary key"
user_id,FOREIGN KEY (references users.id),BIGINT,No,"Foreign key to the user receiving notification"
type,,character varying(255),No,"Type of notification (e.g., 'file_shared', 'system_alert')"
title,,character varying(255),No,"Notification title"
message,,text,No,"Notification message content"
data,,jsonb,Yes,"Additional notification data in JSON"
read_at,,timestamp with time zone,Yes,"Timestamp when notification was read"
created_at,,timestamp with time zone,No,"Timestamp when notification was created (default: now())"
updated_at,,timestamp with time zone,No,"Timestamp when notification was updated (default: now())"
===== SECURITY & AUTHENTICATION TABLES =====,PRIMARY KEY: (id),,,"Security, authentication, and session management"
==== TABLE: user_sessions ====,PRIMARY KEY: (id),,,"Detailed user session tracking"
id,PRIMARY KEY,nextval('user_sessions_id_seq'::regclass),No,"Auto-incrementing primary key"
user_id,FOREIGN KEY (references users.id),BIGINT,No,"Foreign key to the user"
session_id,,character varying(255),No,"Session identifier"
ip_address,,inet,No,"IP address of the session"
user_agent,,text,Yes,"User agent string"
device_fingerprint,,text,Yes,"Device fingerprint for security"
location_country,,character varying(255),Yes,"Country location"
location_city,,character varying(255),Yes,"City location"
location_timezone,,character varying(255),Yes,"Timezone of user"
is_active,,boolean,Yes,"Whether session is currently active (default: true)"
last_activity_at,,timestamp without time zone,Yes,"Timestamp of last activity (default: now())"
login_method,,character varying(255),Yes,"Method used to login"
is_suspicious,,boolean,Yes,"Whether session is flagged as suspicious (default: false)"
trusted_device,,boolean,Yes,"Whether device is marked as trusted (default: false)"
created_at,,timestamp without time zone,Yes,"Timestamp when session started (default: now())"
expires_at,,timestamp without time zone,Yes,"Timestamp when session expires"
logged_out_at,,timestamp without time zone,Yes,"Timestamp when user logged out"
==== TABLE: webauthn_credentials ====,PRIMARY KEY: (id),,,"WebAuthn authentication credentials"
id,PRIMARY KEY,text,No,"Unique credential identifier"
raw_id,,text,Yes,"Raw credential ID"
response,,jsonb,Yes,"Credential response data"
type,,character varying(255),No,"Credential type (default: 'public-key')"
transports,,ARRAY,Yes,"Supported transport methods"
attestation_type,,character varying(255),Yes,"Attestation type"
trust_path,,jsonb,Yes,"Trust path information"
aaguid,,uuid,Yes,"Authenticator GUID"
public_key,,text,Yes,"Public key for authentication"
counter,,bigint,Yes,"Signature counter (default: 0)"
user_handle,,text,Yes,"User handle"
user_id,,text,No,"User identifier for WebAuthn"
authenticatable_type,,character varying(255),No,"Type of authenticatable model"
authenticatable_id,,bigint,No,"ID of authenticatable model"
disabled_at,,timestamp with time zone,Yes,"Timestamp when credential was disabled"
created_at,,timestamp with time zone,No,"Timestamp when credential was created"
updated_at,,timestamp with time zone,No,"Timestamp when credential was updated"
rp_id,,text,No,"Relying party ID (default: '')"
origin,,text,No,"Origin URL (default: '')"
alias,,character varying(255),Yes,"Human-readable alias for credential"
attestation_format,,character varying(255),Yes,"Attestation format"
==== TABLE: password_reset_tokens ====,PRIMARY KEY: (email),,,"Password reset token storage"
email,PRIMARY KEY,character varying(255),No,"Email address requesting password reset"
token,,character varying(255),No,"Reset token value"
created_at,,timestamp without time zone,Yes,"Timestamp when token was created"
==== TABLE: personal_access_tokens ====,PRIMARY KEY: (id),,,"Laravel Sanctum personal access tokens"
id,PRIMARY KEY,nextval('personal_access_tokens_id_seq'::regclass),No,"Auto-incrementing primary key"
tokenable_type,,character varying(255),No,"Type of model that owns the token"
tokenable_id,,bigint,No,"ID of model that owns the token"
name,,character varying(255),No,"Human-readable token name"
token,,character varying(64),No,"Token value (hashed)"
abilities,,text,Yes,"Token permissions in JSON"
last_used_at,,timestamp without time zone,Yes,"Timestamp when token was last used"
expires_at,,timestamp without time zone,Yes,"Timestamp when token expires"
created_at,,timestamp without time zone,Yes,"Timestamp when token was created"
updated_at,,timestamp without time zone,Yes,"Timestamp when token was updated"
==== TABLE: sessions ====,PRIMARY KEY: (id),,,"Laravel session storage"
id,PRIMARY KEY,character varying(255),No,"Session identifier"
user_id,,bigint,Yes,"Foreign key to authenticated user"
ip_address,,character varying(45),Yes,"IP address of the session"
user_agent,,text,Yes,"User agent string"
payload,,text,No,"Session data payload"
last_activity,,integer,No,"Unix timestamp of last activity"
===== CHAT & COMMUNICATION TABLES =====,PRIMARY KEY: (id),,,"Chat and communication features"
==== TABLE: chat_histories ====,PRIMARY KEY: (id),,,"chat interaction history"
id,PRIMARY KEY,nextval('chat_histories_id_seq'::regclass),No,"Auto-incrementing primary key"
session_id,,character varying(255),No,"Chat session identifier"
message,,jsonb,No,"Chat message data in JSON format"
===== SYSTEM & FRAMEWORK TABLES =====,PRIMARY KEY: (id),,,"Laravel framework and system tables"
==== TABLE: cache ====,PRIMARY KEY: (key),,,"Laravel cache storage"
key,PRIMARY KEY,character varying(255),No,"Cache key identifier"
value,,text,No,"Cached data value"
expiration,,integer,No,"Unix timestamp when cache expires"
==== TABLE: cache_locks ====,PRIMARY KEY: (key),,,"Laravel cache locks"
key,PRIMARY KEY,character varying(255),No,"Cache lock key identifier"
owner,,character varying(255),No,"Process that owns the lock"
expiration,,integer,No,"Unix timestamp when lock expires"
==== TABLE: jobs ====,PRIMARY KEY: (id),,,"Laravel job queue"
id,PRIMARY KEY,nextval('jobs_id_seq'::regclass),No,"Auto-incrementing primary key"
queue,,character varying(255),No,"Queue name"
payload,,text,No,"Job payload data"
attempts,,smallint,No,"Number of attempts made"
reserved_at,,integer,Yes,"Timestamp when job was reserved"
available_at,,integer,No,"Timestamp when job becomes available"
created_at,,integer,No,"Timestamp when job was created"
==== TABLE: job_batches ====,PRIMARY KEY: (id),,,"Laravel job batch tracking"
id,PRIMARY KEY,character varying(255),No,"Unique batch identifier"
name,,character varying(255),No,"Human-readable batch name"
total_jobs,,integer,No,"Total of jobs in batch"
pending_jobs,,integer,No,"Number of pending jobs"
failed_jobs,,integer,No,"Number of failed jobs"
failed_job_ids,,text,No,"IDs of failed jobs"
options,,text,Yes,"Batch options in JSON"
cancelled_at,,integer,Yes,"Timestamp when batch was cancelled"
created_at,,integer,No,"Timestamp when batch was created"
finished_at,,integer,Yes,"Timestamp when batch finished"
==== TABLE: failed_jobs ====,PRIMARY KEY: (id),,,"Laravel failed job queue storage"
id,PRIMARY KEY,nextval('failed_jobs_id_seq'::regclass),No,"Auto-incrementing primary key"
uuid,UNIQUE,character varying(255),No,"Unique identifier for the failed job"
connection,,text,No,"Queue connection name"
queue,,text,No,"Queue name"
payload,,text,No,"Job payload data"
exception,,text,No,"Exception that caused the failure"
failed_at,,timestamp without time zone,No,"Timestamp when job failed (default: CURRENT_TIMESTAMP)"
==== TABLE: migrations ====,PRIMARY KEY: (id),,,"Laravel database migrations tracking"
id,PRIMARY KEY,nextval('migrations_id_seq'::regclass),No,"Auto-incrementing primary key"
migration,,character varying(255),No,"Migration filename"
batch,,integer,No,"Migration batch number"
